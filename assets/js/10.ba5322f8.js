(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{290:function(e,t,s){"use strict";s.r(t);var a=s(0),r=Object(a.a)({},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"content"},[e._m(0),e._v(" "),e._m(1),e._v(" "),s("blockquote",[s("p",[e._v("The example builder in this article is the same as the builder in "),s("router-link",{attrs:{to:"./advance-scaffold-custom.html"}},[e._v("Customed Generator")]),e._v(". You can read both for more details.")],1)]),e._v(" "),e._m(2),e._v(" "),e._m(3),e._v(" "),e._m(4),e._v(" "),e._m(5),e._v(" "),e._m(6),e._v(" "),e._m(7),e._v(" "),e._m(8),e._m(9),e._v(" "),e._m(10),e._v(" "),s("p",[e._v("The building procedure of "),s("code",[e._v("builder-feflow-example")]),e._v(" is pretty simple. You can visit "),s("a",{attrs:{href:"https://github.com/feflow/builder-feflow-example",target:"_blank",rel:"noopener noreferrer"}},[e._v("builder-feflow-example"),s("OutboundLink")],1),e._v(" for more information.")]),e._v(" "),s("p",[e._v("Because the builders are seperated with projects. So it is important to focus on the points below:")]),e._v(" "),e._m(11),e._v(" "),e._m(12),e._v(" "),s("p",[e._v("The example above is only for readers to understand easily and it lack of a lot of abilities neccessary for development. If you want to find a advanced solution of React + Webpack, please visit")]),e._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://github.com/feflow/builder-webpack4",target:"_blank",rel:"noopener noreferrer"}},[e._v("builder-webpack4"),s("OutboundLink")],1)])])])},[function(){var e=this.$createElement,t=this._self._c||e;return t("h1",{attrs:{id:"customed-builder"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#customed-builder","aria-hidden":"true"}},[this._v("#")]),this._v(" Customed Builder")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("It's easy to develop a builder. If you already have code for building in your project, it's very easy to extract it to a builder. In this article we will use a simple webpack builder as an example to introdcuce how to develop our own builder. Of course, Feflow does not limit your tech stack. You can use "),t("code",[this._v("Rollup")]),this._v(", "),t("code",[this._v("Parcel")]),this._v(" or any thing you like.")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"create-a-builder-project"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#create-a-builder-project","aria-hidden":"true"}},[this._v("#")]),this._v(" Create a builder project")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("Create a new directory named "),t("code",[this._v("builder-feflow-example")]),this._v(". Then use "),t("code",[this._v("npm init")]),this._v(" to initialize a NPM package.")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("strong",[this._v("Attention: "),t("code",[this._v("name")]),this._v(" field should be keep same as the directory name. The value of "),t("code",[this._v("main")]),this._v(" field should be the entry file which Feflow excute. In this example it's "),t("code",[this._v("lib/index.js")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("blockquote",[t("p",[this._v("It's recommanded to name your builder with begginning of "),t("code",[this._v("builder-")]),this._v(". Though Feflow doesn't limit the name of builder, Feflow will find dependency package beginning with "),t("code",[this._v("builder-")]),this._v(" to update when it update local builders.")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"edit-entry-file"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#edit-entry-file","aria-hidden":"true"}},[this._v("#")]),this._v(" Edit entry file")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("Create or open the entry file of project you just create. In this example it is "),t("code",[this._v("lib/indexl.js")]),this._v(". Then you need to export a function recieves arguments:")])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("/**\n * The function exported to feflow\n * @param {string} cmd The command entered when user uses feflow to build. For example, feflow dev or feflow build\n * @param {string} ctx feflow context, the same as the plugin context\n */")]),e._v("\nmodule"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[e._v("exports")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("cmd"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" ctx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=>")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("if")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("cmd "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("===")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"dev"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("/* Local development */")]),e._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("else")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("if")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("cmd "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("===")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"build"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("/* Production build */")]),e._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("Feflow internal builder plugin will call "),t("code",[this._v("lib/index.js")]),this._v(" and pass 2 arguments to the builder. The meaning of arguments is explained above. Currently it support two commands, which is "),t("code",[this._v("feflow dev")]),this._v(" and "),t("code",[this._v("feflow build")]),this._v(". The first one if for local development. The second one is for production environment.")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"write-building-procedure"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#write-building-procedure","aria-hidden":"true"}},[this._v("#")]),this._v(" Write building procedure")])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ol",[s("li",[e._v("Entry file and HTML file is in the project directory. So make sure that the path configured in Webpack is correct.")]),e._v(" "),s("li",[e._v("If your projects share the Loader of builders. Make sure that the "),s("code",[e._v("reasolveLoader.modules")]),e._v(" includes the "),s("code",[e._v("node_modules")]),e._v(" in builder directory. Otherwise Webpack will only search loaders in project directory.")]),e._v(" "),s("li",[e._v("Other issues related to the path must also pay attention.")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"advanced-solution"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#advanced-solution","aria-hidden":"true"}},[this._v("#")]),this._v(" Advanced solution")])}],!1,null,null,null);t.default=r.exports}}]);